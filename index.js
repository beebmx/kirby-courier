(function(){"use strict";function u(n,e,t,r,o,i,s,l){var a=typeof n=="function"?n.options:n;return e&&(a.render=e,a.staticRenderFns=t,a._compiled=!0),i&&(a._scopeId="data-v-"+i),{exports:n,options:a}}const _={__name:"EmailSender",props:{user:Object},setup(n){var i;const e=n,t=Vue.computed(()=>e.user),r=Vue.ref(((i=t.value)==null?void 0:i.email)||"");function o(){if(!r.value){window.panel.notification.error(window.panel.$t("field.required"));return}window.panel.api.post("courier/email/test",{email:r.value}).then(({success:s,message:l})=>{s?window.panel.notification.success(l):window.panel.notification.error(l)}).catch(s=>{}).finally(()=>{})}return{__sfc:!0,props:e,user:t,email:r,send:o}}};var p=function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("k-section",{staticClass:"k-courier-email-sender"},[t("k-input",{attrs:{type:"email",name:"email",icon:"email",value:r.email},on:{input:function(o){r.email=o},submit:r.send}}),t("k-button",{attrs:{variant:"filled",size:"lg"},on:{click:r.send}},[e._v(e._s(e.$t("beebmx.courier.panel.email.test")))])],1)},d=[],m=u(_,p,d,!1,null,"e2271906");const f=m.exports,v={__name:"SettingRow",props:{field:String,value:String},setup(n){return{__sfc:!0}}};var b=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("tr",{staticClass:"k-courier-settings-row"},[t("td",[e._v(" "+e._s(e.field)+" "),t("dl",[t("dt",{staticClass:"sr-only"},[e._v(e._s(e.field))]),t("dd",[t("code",[e._v(e._s(e.value))])])])]),t("td",[t("code",[e._v(e._s(e.value))])])])},g=[],S=u(v,b,g,!1,null,"55fea155");const c=S.exports,$={__name:"SettingsCourier",props:{settings:Object},setup(n){const e=n,t=Vue.computed(()=>e.settings),r=Vue.computed(()=>e.settings.from);return{__sfc:!0,props:e,settings:t,from:r,SettingRow:c}}};var w=function(){var o,i,s;var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"k-courier-settings"},[t("k-headline",[e._v(e._s(e.$t("beebmx.courier.panel.settings.courier")))]),t("table",[t("tbody",[t(r.SettingRow,{attrs:{field:e.$t("beebmx.courier.panel.courier.logo"),value:((o=r.settings)==null?void 0:o.logo)||"null"}}),t(r.SettingRow,{attrs:{field:e.$t("beebmx.courier.panel.courier.from.name"),value:((i=r.from)==null?void 0:i.name)||"null"}}),t(r.SettingRow,{attrs:{field:e.$t("beebmx.courier.panel.courier.from.email"),value:((s=r.from)==null?void 0:s.address)||"null"}})],1)])],1)},x=[],y=u($,w,x,!1,null,"d8fdd195");const R=y.exports,h={__name:"SettingsProvider",props:{transport:Object,plus:{type:String|null,default:null}},setup(n){const e=n,t=Vue.computed(()=>e.transport),r=Vue.computed(()=>e.plus),o=Vue.computed(()=>{var s;return((s=t.value)==null?void 0:s.type)==="smtp"}),i=Vue.computed(()=>{var s;return r.value||((s=t.value)==null?void 0:s.type)});return{__sfc:!0,props:e,transport:t,plus:r,isSmtp:o,provider:i,SettingRow:c}}};var k=function(){var o,i,s,l,a;var e=this,t=e._self._c,r=e._self._setupProxy;return t("div",{staticClass:"k-courier-settings"},[t("k-headline",[e._v(e._s(e.$t("beebmx.courier.panel.settings.provider")))]),t("table",[t("tbody",[t(r.SettingRow,{attrs:{field:e.$t("beebmx.courier.panel.email.provider"),value:r.provider||"null"}}),t(r.SettingRow,{attrs:{field:"Host",value:r.isSmtp?((o=r.transport)==null?void 0:o.host)||"null":e.$t("beebmx.courier.panel.email.na")}}),t(r.SettingRow,{attrs:{field:"Port",value:r.isSmtp?((i=r.transport)==null?void 0:i.port)||"null":e.$t("beebmx.courier.panel.email.na")}}),t(r.SettingRow,{attrs:{field:"Security",value:r.isSmtp?((s=r.transport)==null?void 0:s.security)||"null":e.$t("beebmx.courier.panel.email.na")}}),t(r.SettingRow,{attrs:{field:"Auth",value:r.isSmtp?((l=r.transport)==null?void 0:l.auth)||"null":e.$t("beebmx.courier.panel.email.na")}}),t(r.SettingRow,{attrs:{field:"Username",value:r.isSmtp?((a=r.transport)==null?void 0:a.username)||"null":e.$t("beebmx.courier.panel.email.na")}})],1)])],1)},C=[],V=u(h,k,C,!1,null,"3afae42e");const P=V.exports,j={__name:"CourierView",props:{courier:Object,transport:Object,user:Object,plus:{type:String|null,default:null}},setup(n){return{__sfc:!0,props:n,EmailSender:f,SettingsCourier:R,SettingsProvider:P}}};var F=function(){var e=this,t=e._self._c,r=e._self._setupProxy;return t("k-panel-inside",[t("k-header",[e._v(e._s(e.$t("email")))]),t(r.EmailSender,{attrs:{user:r.props.user}}),t(r.SettingsCourier,{attrs:{settings:r.props.courier}}),t(r.SettingsProvider,{attrs:{transport:r.props.transport,plus:r.props.plus}})],1)},O=[],z=u(j,F,O,!1,null,"295e0f90");const q=z.exports;window.panel.plugin("beebmx/courier",{components:{"k-courier-view":q}})})();
